<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# найди на сайте биржы битгет в разделе апи как через вэбсокет подключить спот котировки заданного количества инструментов

Для подключения через вебсокет к разделу спот-торгов на бирже Bitget и получения котировок заданного количества инструментов нужно использовать их API WebSocket, отправляя подписку на нужные торговые пары.

Основная идея: открывается одно вебсокет-соединение, и в одном запросе подписываются сразу на несколько инструментов. Для этого в сообщении подписки можно передать список символов (тикеров) инструментов, на которые хотите получать котировки. В ответ сервер будет слать сообщения с обновлениями цен по этим инструментам в реальном времени.

Для Bitget есть пример использования WebSocket с подпиской на публичные данные, включая спот-инструменты, где в параметрах передаётся список инструментов для мультиподписки. Единственное ограничение — максимальный размер строки запроса (около 21 000 символов).

Я сейчас уточню в документации Bitget точный формат запроса и пример для подписки на несколько инструментов спот-рынка через WebSocket.{"queries":["Bitget API WebSocket spot market subscribe multiple instruments example"]}Нашёл информацию по подключению к WebSocket API Bitget для получения спот-рыночных котировок по нескольким инструментам.

В документации Bitget WebSocket API для спот-рынка можно подписываться на торговые пары, передавая их в параметрах подписки в виде списка в JSON-запросе.

Пример формата подписки:

```
{
  "method": "subscribe",
  "params": {
    "channel": "spot/ticker",
    "instId": ["btcusdt", "ethusdt", "bnbusdt"] 
  },
  "id": "1"
}
```

Где `"instId"` — это список тикеров инструментов, по которым вы хотите получать котировки. После успешной подписки сервер будет слать обновления по тикерах на указанный WebSocket-канал.

Уточню точный адрес WebSocket сервера и другие момент по подписке, сейчас проверяю.{"queries":["Bitget API WebSocket URL spot market"]}На официальном сайте Bitget в разделе API WebSocket для спот рынка указан адрес WebSocket сервера:

wss://ws.bitget.com/mix/v1/stream

Подключение к этому адресу позволяет подписываться на каналы с разными данными, в том числе и spot market ticker (цены спот рынка).

Для подписки на несколько инструментов нужно отправить один запрос subscribe с параметром instId, который принимает список символов инструментов.

Пример сообщения подписки:

```json
{
  "method": "subscribe",
  "params": {
    "channel": "spot/ticker",
    "instId": ["btcusdt", "ethusdt", "bnbusdt"]
  },
  "id": "1"
}
```

После этого сервер будет отправлять обновления котировок в реальном времени по этим инструментам.

Таким образом, через WebSocket API Bitget можно подключиться по адресу wss://ws.bitget.com/mix/v1/stream и подписаться на несколько спот инструментов, передавая их тикеры списком в поле instId.[^1_1][^1_4]
<span style="display:none">[^1_2][^1_3][^1_5]</span>

<div style="text-align: center">⁂</div>

[^1_1]: https://www.youtube.com/watch?v=UYtFByS6tCs

[^1_2]: https://www.youtube.com/watch?v=8SY-G0Hk64Y

[^1_3]: https://www.youtube.com/watch?v=xsNWSMTU7Fo

[^1_4]: https://getcoder.ru/python/getting-data-on-trading-pairs-from-the-bitget-exchange-via-a-python-webSocket/

[^1_5]: https://vc.ru/services/2023460-sravnenie-luchshikh-kriptobirzh-dlya-algoritmicheskoy-torgovli

